  /* もともとのCSS（保持） */
      :root {
        --yt-spec-base-background: #ffffff;
        --yt-spec-raised-background: #ffffff;
        --yt-spec-menu-background: #ffffff;
        --yt-spec-inverted-background: #0f0f0f;
        --yt-spec-outline: rgba(0, 0, 0, 0.1);
        --yt-spec-text-primary: #0f0f0f;
        --yt-spec-text-secondary: #606060;
        --yt-spec-red: #ff0000;
        --yt-spec-brand-button-text: #065fd4;
      }
      div.thumbnail {
        padding: 8.5%;
        position: relative;
        box-sizing: border-box;
      }
      body {
        font-family: Roboto, Arial, sans-serif;
        background-color: var(--yt-spec-base-background);
        color: var(--yt-spec-text-primary);
        margin: 0;
        padding: 0;
      }
      @media (max-width: 768px) {
        .shorts-link span {
          display: none;
        }
      }
      /* メインコンテンツ */
      .main-content {
        margin-top: 56px;
        min-height: calc(100vh - 56px);
        padding: 16px;
      }
      /* 動画＆動画情報レイアウト */
      .video-container {
        display: flex;
        gap: 16px;
      }
      .video-left {
        flex: 0 0 75%;
        display: flex;
        flex-direction: column;
      }
      .video-right {
        flex: 0 0 30%;
      }
      .video-player-container {
        width: 100%;
      }
      /* 動画プレーヤーラッパー（絶対配置の基準） */
      .video-player-wrapper {
        position: relative;
      }
      .video-player-wrapper video {
        width: 100%;
        aspect-ratio: 16 / 9;
        background: #000;
      }
      /* ロード中スピナー（動画中央に表示） */
      #loader {
        border: 8px solid #f3f3f3;
        border-top: 8px solid #3498db;
        border-radius: 50%;
        width: 80px;
        height: 80px;
        animation: spin 1s linear infinite;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        display: none;
      }
      @keyframes spin {
        0% { transform: translate(-50%, -50%) rotate(0deg); }
        100% { transform: translate(-50%, -50%) rotate(360deg); }
      }
      .video-description {
        margin-top: 16px;
        background-color: #f9f9f9;
        padding: 12px;
        border-radius: 4px;
        text-align: left;
      }
      .comments-section {
        margin-top: 16px;
        background-color: #ffffff;
        padding: 12px;
        border: 1px solid var(--yt-spec-outline);
        border-radius: 4px;
        text-align: left;
      }
      .comments-section h3 {
        margin-top: 0;
        font-size: 18px;
        margin-bottom: 8px;
      }
      .comment-item {
        margin-bottom: 16px;
        padding-bottom: 16px;
        border-bottom: 1px solid var(--yt-spec-outline);
      }
      .comment-item:last-child {
        border-bottom: none;
      }
      .comment-header {
        margin-bottom: 4px;
      }
      .comment-author {
        font-weight: bold;
        margin-right: 8px;
      }
      .comment-actions {
        font-size: 12px;
        color: var(--yt-spec-text-secondary);
      }
    /* 関連動画（右カラム）の上書きスタイル */
.video-right {
  /* 右カラム内の既存余白を崩さない */
}

/* 各関連動画アイテム全体を横並びにする（サムネイル左・情報右） */
.video-right .recomeention {
  display: block;
  margin-bottom: 12px;
  padding: 6px 4px;
  border-radius: 8px;
}

/* リンク部分をフレックスにして左にサムネ、小さく配置 */
.video-right .recomeention > a {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  text-decoration: none;
  color: inherit;
  padding: 4px 2px;
}

/* 内包される .thumbnail（div） の余白やパディングを無効化して小さく調整 */
.video-right .recomeention > a .thumbnail {
  padding: 0 !important;
  width: 120px;          /* サムネイル領域の幅（調整可） */
  flex: 0 0 120px;
  box-sizing: border-box;
  position: relative;
  height: 67.5px;        /* 16:9 比率（120 * 9 / 16 = 67.5） */
  overflow: hidden;
  border-radius: 6px;
  background: #000;
}

/* 実際の img.thumbnail をサムネイル領域に馴染ませる */
.video-right .recomeention > a .thumbnail img.thumbnail {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 6px;
}

/* サムネイル上の長さ表示（.length）がある場合の位置調整 */
.video-right .recomeention > a .thumbnail .length {
  position: absolute;
  right: 6px;
  bottom: 6px;
  background: rgba(0,0,0,0.75);
  color: #fff;
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 4px;
  line-height: 1;
}

/* 右側メタ領域（タイトルとその下の情報） */
.video-right .recomeention > a p,
.video-right .recomeention > a .meta {
  margin: 0;
  padding: 0;
}

/* タイトル（a の直下の p 要素） */
.video-right .recomeention > a p {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--yt-spec-text-primary, #0f0f0f);
  line-height: 1.2;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2; /* 最大2行で省略 */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: normal;
  min-width: 0; /* テキスト省略を効かせるため */
}

/* タイトルの下にある視聴回数とチャンネルリンクは .recomeention 内の p, a 要素として存在するので微調整 */
.video-right .recomeention > p,
.video-right .recomeention > a + p,
.video-right .recomeention > a + p + a {
  font-size: 0.82rem;
  color: var(--yt-spec-text-secondary, #606060);
  margin: 6px 0 0 0;
}

/* チャンネルリンク（下段の a） */
.video-right .recomeention > a + p + a {
  color: var(--yt-spec-text-secondary, #606060);
  text-decoration: none;
}

/* ホバー時の視覚効果（リンク全体に限定） */
.video-right .recomeention > a:hover {
  background: rgba(0,0,0,0.03);
  border-radius: 8px;
}



/* 既存の .thumbnail 全体に影響する過剰指定をリセット（副作用を避けるため限定的に） */
.video-right .recomeention > a .thumbnail,
.video-right .recomeention > a .thumbnail * {
  box-shadow: none;
}

       /* トップバー */
      #top-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background-color: #ffffff;
        height: 56px;
        padding: 0 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
      }
      /* トップバー左側：ハンバーガー＆ロゴ */
      #top-bar .left-section {
        display: flex;
        align-items: center;
      }
      #open-sidebar {
        font-size: 30px;
        background: none;
        border: none;
        cursor: pointer;
        color: #007bff;
      }
      /* サイドバー */
      #sidebar {
        position: fixed;
        top: 56px;
        left: -100%;
        width: 80%;
        max-width: 300px;
        height: calc(100% - 56px);
        background-color: #000;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);
        overflow-y: auto;
        transition: left 0.3s ease;
        z-index: 1100;
        color: #fff;
      }
      #sidebar.active {
        left: 0;
      }
      #sidebar .sidebar-content {
        padding: 20px;
      }
      #sidebar a {
        display: block;
        margin-bottom: 10px;
        color: #fff;
        text-decoration: none;
      }
      #sidebar button#close-sidebar {
        background: none;
        border: none;
        font-size: 24px;
        color: #fff;
        position: absolute;
        top: 10px;
        right: 10px;
        cursor: pointer;
      }
      /* オーバーレイ */
      #overlay {
        position: fixed;
        top: 56px;
        left: 0;
        width: 100%;
        height: calc(100% - 56px);
        background: rgba(0, 0, 0, 0.4);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease;
        z-index: 1000;
      }
      #overlay.active {
        opacity: 1;
        visibility: visible;
      }
      /* サイドバー内の各項目を区切る */
      #sidebar .sidebar-content > * {
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        padding: 10px 0;
        margin: 0;
      }
      #sidebar .sidebar-content > *:last-child {
        border-bottom: none;
      }

      /* ---------- 追加（歯車・設定パネル・トースト） ---------- */

      /* 歯車（左下に固定） */
      .settings-toggle {
        position: fixed;
        left: 18px;
        bottom: 18px;
        z-index: 140;
        background: transparent;
        border: none;
        cursor: pointer;
        font-size: 20px;
        color: #fff;
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 0;
      }
      .settings-toggle .gear {
        width: 44px;
        height: 44px;
        border-radius: 10px;
        background: rgba(0,0,0,0.55);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 8px 20px rgba(0,0,0,0.18);
        color: #fff;
        font-size: 20px;
      }
      /* 設定パネル（歯車の上に表示） */
      .settings-panel {
        position: fixed;
        bottom: 78px;
        left: 18px;
        width: 320px;
        max-width: calc(100% - 36px);
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 14px 40px rgba(0,0,0,0.18);
        padding: 16px;
        z-index: 139;
        transform-origin: bottom left;
        transition: transform 220ms cubic-bezier(.2,.9,.2,1), opacity 180ms ease;
        opacity: 0;
        transform: translateY(10px) scale(.98);
        pointer-events: none;
      }
      .settings-panel.open {
        transform: translateY(0) scale(1);
        opacity: 1;
        pointer-events: auto;
      }
      .settings-panel h4 { margin: 0 0 10px; font-size: 1rem; color: #222; }
      .settings-row { display: flex; align-items: center; justify-content: space-between; gap: 12px; padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.04); }
      .settings-row:last-child { border-bottom: none; }
      .settings-row label { font-size: 0.92rem; color: #333; }
      .settings-row .desc { font-size: 0.8rem; color: #666; display:block; margin-top:6px; }

      /* トースト（右上） */
      .toast-wrap {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 150;
        display: flex;
        flex-direction: column;
        gap: 10px;
        pointer-events: none;
      }
      .toast {
        min-width: 220px;
        max-width: 360px;
        background: linear-gradient(180deg,#fff,#f6f9ff);
        border-radius: 10px;
        padding: 12px 14px;
        box-shadow: 0 10px 30px rgba(14,30,37,0.12);
        color: #042a4a;
        font-size: 0.95rem;
        border-left: 4px solid #007BFF;
        transform: translateX(12px) translateY(-8px) scale(.98);
        opacity: 0;
        transition: transform 300ms cubic-bezier(.2,.9,.2,1), opacity 240ms ease;
        pointer-events: auto;
        touch-action: pan-y;
        user-select: none;
        position: relative;
      }
      .toast.show { transform: translateX(0) translateY(0) scale(1); opacity: 1; }
      .toast .title { font-weight: 700; margin-bottom: 6px; }
      .toast .body { font-weight: 500; color: #234; }
      .toast.dragging { transition: none; opacity: 0.95; }
      .toast .close-x { position: absolute; top: 6px; right: 8px; font-weight: 700; color: rgba(0,0,0,0.45); cursor: pointer; }
      .toast .hint { margin-top: 8px; font-size: 0.78rem; color: #556; display:block; }
